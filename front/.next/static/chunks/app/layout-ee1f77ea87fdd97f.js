(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{713:function(e,t,r){Promise.resolve().then(r.t.bind(r,1656,23)),Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.bind(r,7716)),Promise.resolve().then(r.bind(r,4378))},7716:function(e,t,r){"use strict";var s=r(7437),a=r(2265),n=r(7138),o=r(4378);t.default=()=>{let{isLogged:e,logout:t}=(0,a.useContext)(o.S),[r,c]=(0,a.useState)(!1);return(0,s.jsx)("nav",{className:"bg-white fixed w-full z-20 top-0 start-0 border-b border-gray-200 dark:border-gray-600",children:(0,s.jsxs)("div",{className:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-3",children:[(0,s.jsx)("a",{href:"/",className:"flex items-center space-x-3 rtl:space-x-reverse",children:(0,s.jsx)("img",{src:"/Logo.png",className:"h-12",alt:"Turobelix Logo"})}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-8 rtl:space-x-reverse",children:[(0,s.jsx)("a",{href:"#",className:"text-gray-900 hover:text-blue-700 inter",children:"Tours"}),(0,s.jsx)(n.default,{href:"/paquetes",className:"text-gray-900 hover:text-blue-700 inter",children:"Paquetes"}),(0,s.jsx)("a",{href:"#",className:"text-gray-900 hover:text-blue-700 inter",children:"Alquileres"}),e?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{type:"button",className:"text-gray-900 hover:text-blue-700 inter",onClick:()=>{c(!r)},children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3 0-6 1.3-6 4v1h12v-1c0-2.7-3-4-6-4z"})})}),r&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50",children:[(0,s.jsx)(n.default,{href:"/dashboard/profile",children:(0,s.jsx)("button",{className:"block w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100",children:"Profile"})}),(0,s.jsx)("button",{className:"block w-full px-4 py-2 text-left text-gray-700 hover:bg-gray-100",onClick:t,children:"Logout"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.default,{href:"/register",className:"text-gray-900 hover:text-blue-700 inter",children:"Sign up"}),(0,s.jsx)(n.default,{href:"/login",className:"text-gray-900 hover:text-blue-700 inter",children:(0,s.jsx)("button",{type:"button",className:"text-white bg-[#EB662B] hover:bg-[#cc541f] focus:ring-4 focus:outline-none focus:ring-orange-300 font-medium rounded-l-full rounded-r-full text-sm px-4 py-2 text-center dark:bg-[#EB662B] dark:hover:bg-[#cc541f] dark:focus:ring-orange-800",children:"Log in"})})]})]}),(0,s.jsx)("div",{className:"md:hidden flex items-center",children:(0,s.jsxs)("button",{"data-collapse-toggle":"navbar-sticky",type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-sticky","aria-expanded":"false",children:[(0,s.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,s.jsx)("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h15M1 7h15M1 13h15"})})]})})]})})}},4378:function(e,t,r){"use strict";r.d(t,{S:function(){return l},UserProvider:function(){return i}});var s=r(7437);let a=async e=>{let t=await fetch("https://pf-grupo03-back.onrender.com/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).message||"Error registering user.");return await t.json()},n=async e=>{let t=await fetch("https://pf-grupo03-back.onrender.com/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).message||"Error Loging user.");return await t.json()},o=async e=>{let t=await fetch("https://m4f.onrender.com/users/orders",{headers:{Authorization:"".concat(e)}});return await t.json()};var c=r(2265);let l=(0,c.createContext)({user:null,setUser:()=>{},isLogged:!1,setIsLogged:()=>{},signIn:async()=>({success:!1,message:""}),signUp:async()=>({success:!1,message:""}),getOrders:async()=>{},orders:[],logout:()=>{}}),i=e=>{let{children:t}=e,[r,i]=(0,c.useState)(null),[u,d]=(0,c.useState)(!1),[g,h]=(0,c.useState)([]),m=async e=>{try{if((await a(e)).id)return await f({email:e.email,password:e.password}),{success:!0,message:"Account created successfully!"};return{success:!1,message:"Failed to create account."}}catch(e){return{success:!1,message:e.message||"An error occurred. Please try again."}}},f=async e=>{try{let t=await n(e);if(t.token)return i(t),localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",t.token),{success:!0,message:"Login successful!"};return{success:!1,message:"Invalid credentials."}}catch(e){return{success:!1,message:e.message||"An error occurred. Please try again."}}},x=async()=>{try{let e=localStorage.getItem("token")||"",t=await o(e);h(t)}catch(e){return console.error(e),[]}};return(0,c.useEffect)(()=>{localStorage.getItem("token")&&d(!0)},[r]),(0,c.useEffect)(()=>{let e=localStorage.getItem("user");if(e){i(JSON.parse(e));return}i(null)},[]),(0,s.jsx)(l.Provider,{value:{user:r,setUser:i,isLogged:u,setIsLogged:d,signIn:f,signUp:m,orders:g,getOrders:x,logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),i(null),d(!1)}},children:t})}},1656:function(){},3054:function(){}},function(e){e.O(0,[734,141,138,971,23,744],function(){return e(e.s=713)}),_N_E=e.O()}]);